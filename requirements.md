# About

## Ollama interactions

- We need a chatbot interface to interact with Ollama models.
    - It should generate conversation starters for helping the user (i) offload, (ii) reflect, and (iii) troubleshoot specific issues.
    - It should be able to take user input and respond appropriately.
    - It should be able to ask follow-up questions to clarify user input.
    - It should be trauma aware and take an empathetic approach to conversations.
    - It should remind the user it is a bot if it gets too personal.
    - It should be able to indentify times to intervene with breathing excercises, grounding techniques, or other coping mechanisms.
- We need a speech-to-text interface to convert user speech into text input for the chatbot.
- We need something that summarises the session score to a single score. 
    - This score will be plotted in a time series.
- There should be a "Action" plan generator that creates a list of actionable steps for the user to take based on their conversations with the chatbot.
    - This should include things like seek support from manager
    - The aim is to enable and empower the user to seek support from their workplace and existing support networks.
    - The bot should be OK with suggesting escalating even if the user says their management is not supportive.

## DB structure

There will be a portable database that will hold the chat memory layer, user scores over time. This will be eventually stored locally on the user's device. This will be RxDB.
    - This will hold user level data.
    - It will be encrypted at rest.
    - It will log the user score and date/time.
    - It will hold chat history for the session.
    - It will hold all chat history for the user.
    - It will hold action plans generated by the bot.

- On the server we want an anonymised aggregated database that holds user scores over time for analysis.
- This could be served to a very simple webpage that shows trends and insights.

There will a second aggregated database that holds anonymised user scores for analysis.

## Core App

This is going to be a FastAPI app that serves as the backend for the Umatter application. It will handle user authentication, session management, and communication with the Ollama models.

It will also send the session score and time to the central database in an anonymised way.

## Interacting with the front end

ReactJS front end will communicate with the FastAPI backend via RESTful API endpoints. The backend will expose endpoints for user authentication, session management, and chatbot interactions. There will be a browser database to store user data locally. 

The key features of the front end will include:

- A user score. Simple number and emoji representation.
- A trendline of the session wellbeing score over time.
- Based on the trendline and chat history, a "best next step" suggestion for the user.
- A chat interface for interacting with the chatbot.
- Colours adapt to mood.